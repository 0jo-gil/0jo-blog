---
title: "FSD 아키텍쳐"
date: "2024-02-04"
category: ["React", "개발"]
summary: "리액트 다양한 디자인 패턴에 대해 알아보자"
slug: "react-design-patterns"
---

## 아키텍쳐에 대한 고민

프론트엔드 개발을 하면서 항상 아키텍쳐에 대한 고민을 한다. 지금까지 해왔던 개발을 돌아보면 왜 이런 구조로 설계했는지, 항상 반성을 하게 된다. 새로운 방법론에 대한 고민과 함께, 기존에 경험을 토대로 확장성, 유지보수 등 각 컴포넌트간의 결합 및 의존성에 대한 고민을 하게 된다.

아키텍쳐를 고민하던 와중 기능 분할 설계 (Feature-Sliced Design, FSD) 아키텍쳐를 알게 되었고 이에 대해 정리해보려 한다.

## 기능 분할 설계 (Feature-Sliced Design, FSD)

일단 개념에 대해 알아보면서 [공식 문서](https://feature-sliced.design/docs/get-started/overview)에 있는 기본적인 이론을 정리해보려한다.

FSD 프로젝트는 다음과 같이 구성된다.
> Layers, Slices, Segments

### 레이어

레이어는 모든 프로젝트에 표준화되어 있는 레이어로, 각 고유의 책임이있고 수직으로 분리된다. 이 레이어 모듈은 엄격하게 각 책임의 아래 레이어 모듈과 상호 작용할 수 있다.

```
src/
├── app
├── processes
├── pages
├── widgets
├── features
├── entities
└── shared
```

1. app : 앱 전체 설정, 프로바이더, 라우팅, 테마, 글로벌 스타일 등이 정의된다.
2. processes: *(사용되지 않음)* 여러 페이지 간 프로세스를 처리한다. 
3. pages: 각 페이지를 구성하는 레이어다.
4. widgets: 각 페이지에서 독립적으로 사용되는 컴포넌트
5. features: 비즈니스 가치를 가진 사용자 시나리오 기능을 다룬다. (댓글, 장바구니, 사용자 검색 등)
6. entities: 비즈니스 엔티티를 의미한다. (사용자, 제품, 주문 등)
7. shared: 재사용 가능한 컴포넌트 및 유틸리티 함수를 포함한다. (API 클라이언트, UIKit, 헬퍼 함수 등)

위 레이어들은 각각의 책임을 가지고 있으며, 각 레이어는 다른 레이어와 상호작용할 수 있다. 하지만 위에서 설명했다시피 FSD 설계의 주요한 특징은 계층 구조이다.
나열한 레이어 순 (위 -> 아래)으로 상호작용이 가능하고, 아래 레이어는 위 레이어에 의존하지 않는다.

### 슬라이스

각 레이터 디렉토리 내에는 슬라이스 하위 티렉토리가 존재한다. 슬라이스는 프로젝트의 비즈니스 영역에 따라 분리 명명 규칙이 결정되고 정해진 규칙이 따로 없다.

```
src/
├── app/
│   ├── styles/
│   ├── providers/
│   ├── routes/
│   └── index.tsx
├── processes/ (사용x)
├── pages/
│   ├── home/
│   ├── feed/
│   └── mypage/
├── widgets/
│   ├── newfeed/
│   ├── header/
│   └── footer/
├── features
│   ├── user/
│   └── like/
├── entities
│   └── user/
└── shared/
```

### 세그먼트

각 슬라이스는 세그먼트로 구성되어있다. 
    
- ui: 슬라이스 ui 컴포넌트
- api: 서버와의 통신을 담당하는 모듈
- model: 비즈니스 로직, 상태 관리를 담당하는 모듈 (상태관리 라이브러리 등)
- lib: 슬라이스에 의존하는 모듈 (유틸리티 함수, 커스텀 훅 등)
- constants: 슬라이스에 의존하는 상수 모듈


## 마치며

간단하게 FSD 아키텍쳐에 대한 개념을 정리해보했다. 현재 진행 중인 사이드 프로젝트에 하나씩 적용중인데 지금까지 사용해왔던 구조와는 다른 새로운 시각의 접근으로 중구난방의 구조들이 이번계기를 통해 정리되고 있는 느낌이 든다. 대규모 프로젝트의 책임 분리를 위한 구조로 보이지만, 확실하게 정해진 위치에 정해진 개념의 구조로 위치시켜 사용중인데, 머릿속에도 조금은 정리되어 있는 구조로 느껴진다. 물론 기존에 사용해왔던 구조와 비교했을 때, 낯선 부분이 있기도 하지만 분명 장점이 있다고 생각한다. 이번 프로젝트를 통해 FSD 아키텍쳐에 대해 더 깊게 이해하고, 적용해보는 것이 목표다.